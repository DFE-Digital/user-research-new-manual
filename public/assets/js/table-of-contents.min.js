!function(u){"use strict";window.GOVUK.Modules.TableOfContents=function(){var t,n,c,e,i=u("html");function s(){i.addClass("toc-open"),o(!1),a(),t.focus()}function r(){i.removeClass("toc-open"),o(!0),a()}function o(o){u(".toc-open-disabled").attr("aria-hidden",o?"":"true")}function a(){var o=t.is(":visible");u(c).add(e).attr("aria-expanded",o?"true":"false"),t.attr("aria-hidden",o?"false":"true")}function l(t){return function(o){o.preventDefault(),t()}}this.start=function(o){n=(t=o).find(".js-toc-list"),c=i.find(".js-toc-show"),e=t.find(".js-toc-close"),t.on("touchstart.toc",function(){var o=u(this),t=o.scrollTop(),n=o.prop("scrollHeight"),c=t+o.prop("offsetHeight");0===t?o.scrollTop(1):c===n&&o.scrollTop(t-1)}),a(),c.on("click.toc",l(s)),e.on("click.toc",l(r)),n.on("click.toc","a",r),u(window).on("resize.toc",a),u(document).on("keydown.toc",function(o){27===o.keyCode&&r()})}}}(jQuery);